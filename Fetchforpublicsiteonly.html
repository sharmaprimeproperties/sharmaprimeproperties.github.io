<script>
  document.addEventListener("DOMContentLoaded", function () {
    const sheetURL = "https://script.google.com/macros/s/AKfycbxVUISwbAaUDdttTBrDCy-kSMheNA3iF3wpDz_KnaxI4aGg2Lct6ycoSRTDwDB-GLacXg/exec";
    const container = document.getElementById("property-list");

    fetch(sheetURL)
      .then((response) => response.json())
      .then((data) => {
        container.innerHTML = ""; // Clear loading text

        data.forEach((property) => {
          const div = document.createElement("div");
          div.className = "property";
          div.innerHTML = `
            <h2>${property["Property Title (e.g., 2 BHK Flat in Noida)"]}</h2>
            <p><strong>Price:</strong> â‚¹${property["Expected Rent / Sale Price (INR)"]}</p>
            <p><strong>Location:</strong> ${property["Location / Area Name"]}, ${property["City"]}</p>
            <p><strong>Description:</strong> ${property["Extra Description / Any Other Detail"] || "N/A"}</p>
          `;
          container.appendChild(div);
        });
      })
      .catch((error) => {
        console.error("Error fetching data:", error);
        container.innerHTML = "<p>Failed to load properties. Please try again later.</p>";
      });
  });
</script>
